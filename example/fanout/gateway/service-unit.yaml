name: gateway
handler:
  - name: get
    protocol: rest
    action: read
    flow:
      - adapter:
          stateless:
            variant: rest
            service: fanout1
            action: read
            route: get
      - adapter:
          stateless:
            variant: rest
            service: fanout2
            action: read
            route: get
      - adapter:
          stateless:
            variant: rest
            service: fanout3
            action: read
            route: get
      - adapter:
          stateless:
            variant: rest
            service: fanout4
            action: read
            route: get
      - adapter:
          stateless:
            variant: rest
            service: fanout5
            action: read
            route: get
  - name: post
    protocol: rest
    action: write
    flow:
      - adapter:
          stateless:
            variant: rest
            service: fanout1
            action: write
            route: post
      - adapter:
          stateless:
            variant: rest
            service: fanout2
            action: write
            route: post
      - adapter:
          stateless:
            variant: rest
            service: fanout3
            action: write
            route: post
      - adapter:
          stateless:
            variant: rest
            service: fanout4
            action: write
            route: post
      - adapter:
          stateless:
            variant: rest
            service: fanout5
            action: write
            route: post
